

{% extends "layouts/alayout.html" %}
{% load static %}


{% block title %}Manage User{% endblock %}
{% block link %}
{% endblock %}

{% block css %}

<style>
  
</style>

{% endblock %}

{% block admin %}
<div class="container mx-auto px-4 py-6">
  <h2 class="text-2xl font-bold mb-4">Salary Payments</h2>

  <form method="get" class="mb-4 flex gap-2">
      <input type="text" name="q" placeholder="Search by name or date"
             value="{{ query }}" class="border rounded px-2 py-1 w-1/3 bg-blue-400/10 shadow-lg">
      <button type="submit" class="bg-blue-600 text-white px-4 py-1 rounded">Search</button>
  </form>

  <table class="min-w-full table-fixed border-collapse border border-gray-300 dark:border-gray-700">
      <thead class="bg-gray-100 dark:bg-sky-950">
          <tr class=" text-center">
              <th class="border px-3 py-2">Employee</th>
              <th class="border px-3 py-2">Date</th>
              <th class="border px-3 py-2">Worked Days</th>
              <th class="border px-3 py-2">Absent Days</th>
              <th class="border px-3 py-2">Base Salary</th>
              <th class="border px-3 py-2">Bonuses</th>
              <th class="border px-3 py-2">Allowances</th>
              <th class="border px-3 py-2">Deductions</th>
              <th class="border px-3 py-2">Tax (%)</th>
              <th class="border px-3 py-2">Net Salary</th>
          </tr>
      </thead>
      <tbody>
          {% for payment in payments %}
          <tr  class=" {% if forloop.counter0|divisibleby:2 %}bg-blue-50 dark:bg-slate-800{% else %}bg-gray-50 dark:bg-slate-900{% endif %} hover:bg-gray-100 dark:hover:bg-slate-700">
              <td class="border px-3 py-2">{{ payment.employee.user.get_full_name }}</td>
              <td class="border px-3 py-2">{{ payment.date }}</td>
              <td class="border px-3 py-2">{{ payment.worked_days }}</td>
              <td class="border px-3 py-2">{{ payment.absent_days }}</td>
              <td class="border px-3 py-2">₹{{ payment.base_salary }}</td>
              <td class="border px-3 py-2">₹{{ payment.bonuses }}</td>
              <td class="border px-3 py-2">₹{{ payment.allowances }}</td>
              <td class="border px-3 py-2">₹{{ payment.deductions }}</td>
              <td class="border px-3 py-2">{{ payment.tax_percent }}%</td>
              <td class="border px-3 py-2 font-semibold">₹{{ payment.net_salary }}</td>
          </tr>
          {% empty %}
          <tr>
              <td colspan="10" class="text-center py-4">No salary payments found.</td>
          </tr>
          {% endfor %}
      </tbody>
  </table>
</div>
{% endblock %}

{% block js %}


{% endblock %}
